<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Reminders - FitnessPro</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <!-- Header Navigation -->
    <header>
        <nav>
            <a href="#" class="logo">
                <span class="logo-icon">ğŸ’ª</span>
                <span>FitnessPro</span>
            </a>
            <ul class="nav-links">
                <li><a href="{% url 'dashboard' %}">Dashboard</a></li>
                <li><a href="/workout/">Workouts</a></li>
                <li><a href="/diet/">Diet Plans</a></li>
                <li><a href="{% url 'view_reminders' %}">Reminders</a></li>
                <li><a href="{% url 'profile' %}">Profile</a></li>
            </ul>
            <div class="user-info">
                <span>ğŸ‘¤ {{ request.user.username }}</span>
                <a href="{% url 'logout' %}" class="logout-btn">Logout</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <div class="content-wrapper">
        <div class="container">
            <!-- Header -->
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2>ğŸ”” My Reminders</h2>
                        <p style="margin: 0; color: #6b7280;">Manage your workout and fitness reminders</p>
                    </div>
                </div>
            </div>

            <!-- Reminder Stats -->
            <div class="grid-3">
                <div class="stats-box">
                    <h3>Pending</h3>
                    <div class="value" style="color: #f59e0b;">{{ pending }}</div>
                </div>
                <div class="stats-box">
                    <h3>Completed</h3>
                    <div class="value" style="color: #10b981;">{{ completed }}</div>
                </div>
                <div class="stats-box">
                    <h3>Dismissed</h3>
                    <div class="value" style="color: #6b7280;">{{ dismissed }}</div>
                </div>
            </div>

            <!-- Reminders List -->
            <div class="card">
                <div class="card-header">
                    <h3 style="margin: 0;">All Reminders</h3>
                </div>
                <div class="card-body">
                    {% if reminders %}
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            {% for reminder in reminders %}
                                <div style="padding: 1.25rem; border-left: 5px solid {% if reminder.status == 'pending' %}#f59e0b{% elif reminder.status == 'completed' %}#10b981{% else %}#d1d5db{% endif %}; background: {% if reminder.status == 'pending' %}#fffbeb{% elif reminder.status == 'completed' %}#d1fae5{% else %}#f3f4f6{% endif %}; border-radius: 8px;">
                                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.75rem;">
                                        <div>
                                            <h4 style="margin: 0 0 0.25rem 0; color: {% if reminder.status == 'pending' %}#92400e{% elif reminder.status == 'completed' %}#047857{% else %}#374151{% endif %};">{{ reminder.title }}</h4>
                                            <p style="margin: 0 0 0.5rem 0; color: {% if reminder.status == 'pending' %}#b45309{% elif reminder.status == 'completed' %}#059669{% else %}#6b7280{% endif %}; font-size: 0.95rem;">{{ reminder.description }}</p>
                                        </div>
                                        <span style="display: inline-block; padding: 0.35rem 0.75rem; background: {% if reminder.status == 'pending' %}#f59e0b{% elif reminder.status == 'completed' %}#10b981{% else %}#d1d5db{% endif %}; color: white; border-radius: 12px; font-size: 0.85rem; font-weight: 600; white-space: nowrap;">
                                            {% if reminder.status == 'pending' %}â³ Pending{% elif reminder.status == 'completed' %}âœ… Completed{% else %}âŒ Dismissed{% endif %}
                                        </span>
                                    </div>
                                    
                                    <div style="display: flex; gap: 0.5rem; align-items: center; margin-bottom: 0.75rem; font-size: 0.9rem; color: #6b7280;">
                                        <span>ğŸ“… {{ reminder.reminder_date }}</span>
                                        <span>â€¢</span>
                                        <span>â° {{ reminder.created_at|date:"M d, Y H:i" }}</span>
                                        <span>â€¢</span>
                                        <span>ğŸ“‹ {{ reminder.get_reminder_type_display }}</span>
                                    </div>
                                    
                                    {% if reminder.status == 'pending' %}
                                    <div style="display: flex; gap: 0.5rem;">
                                        <a href="{% url 'complete_reminder' reminder.id %}" class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem; flex: 1; text-align: center;">âœ… Mark Complete</a>
                                        <a href="{% url 'dismiss_reminder' reminder.id %}" class="btn btn-outline" style="padding: 0.5rem 1rem; font-size: 0.9rem; flex: 1; text-align: center;">âŒ Dismiss</a>
                                    </div>
                                    {% endif %}
                                </div>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="alert alert-info">
                            <span>â„¹ï¸</span>
                            <p style="margin: 0;">You have no reminders yet. Keep working on your fitness goals!</p>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Back Button -->
            <div style="text-align: center; margin-top: 2rem;">
                <a href="{% url 'dashboard' %}" class="btn">â† Back to Dashboard</a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2026 FitnessPro - Your Personal AI Fitness Assistant</p>
        <p>Transform your fitness journey with intelligent workout and diet planning</p>
    </footer>
</body>
</html>
